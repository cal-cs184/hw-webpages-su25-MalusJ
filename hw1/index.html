<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Names: Yuanbo Jiang</div>

		<br>

		Link to webpage: (TODO) <a href="https://cs184.eecs.berkeley.edu/sp25">cs184.eecs.berkeley.edu/sp25</a>
		
		<br>

		Link to GitHub repository: (TODO) <a href="https://cs184.eecs.berkeley.edu/sp25">cs184.eecs.berkeley.edu/sp25</a>

		<figure>
			<img src="lion.jpg" alt="Lion" style="width:50%"/>
			<figcaption>Project 1 Rasterizer</figcaption>
		</figure>

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		Give a high-level overview of what you implemented in this homework. Think about what you've built as a whole. Share your thoughts on what interesting things you've learned from completing the homework.

		<h2>Task 1: Drawing Single-Color Triangles</h2>
		Before working on rasterizing, I made sure that the triangles are consistent with its orientation, in this case making them all clockwise. So I check the coordinates and apply a test on them. This is done by calculating the signed area using the coordinates of each vertex. The formula is shown below:
		<p>\[ (x_1 - x_0)(y_2 - y_0) - (x_2 - x_0)(y_1 - y_0) \] </p>
		If the value is positive, the vertices are ordered clockwise.If the value is negative, the order is counterclockwise and the algorithm will swap two vertices to make it clockwise. 
		<p>After ensuring the same orientation, I turn the triangle into edge <b>vectors</b> for implementation purposes. Each side of triangle also becomes a vector. Vertices are represented as A, B, and C. Edges are are represented as AB, BC, and CA.
		Then we get the bounding box by calculating the min and max of these points coordinates. The value is taken floor/ceiling to make sure it does not miss anything. Then we apply the sampling method from lecture,<b>three lines test</b>, on each pixel within bounding box to determine whether it should be filled. I computed inward-facing normal vectors by taking the cross product of each edge with z-axis unit vector (0, 0, 1) to suuport the Three-Line Test.</p>

		<p>The three line test can be breaked down into 3 steps</p>
		<ul>
					<li>For each edge, subtract the edge's startubf vertex from the pixel to get directional vector.</li>
					<li>Take the dot product of the directional vector with the edge's inward-facing normal vector.</li>
					<li>If all three dot products are non-negative, that means the pixel lies inside the triangle.</li>
		</ul>
		<p>The assignement requires the algorithm to be no worse than checking every pixel within the bounding box. Since my algorithm is exactly the same approach, it meets the requirement. Extra credit not attempted</p>
		
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="demo1.png" width="400px"/>
				  <figcaption>Result</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="demo2.png" width="400px"/>
				  <figcaption>Result with inspector</figcaption>
				</td>
			  </tr>
			  
			</table>
		</div>
		
		<h2>Task 2: Antialiasing by Supersampling</h2>
		<p>Supersampling is a technique to improve visual quality of rasterized shapes. The algorithm can be break down into following step:</p>
		<ul>
					<li>Just like previous task, we determine the bounding box first.</li>
					<li>For each pixel inside the bounding box, the algorithm loops through a grid of subsamples, determined by the sqaure root of the sample rate.</li>
					<li>Apply the same three line test as before on each subsample to see whether it is inside the triangle</li>
					<li>If the subsample is inside the triangle, write the corlor value in its corresponding location.</li>
		</ul>
		<p>The idea behind supersampling can be seen as rendering in a higher resolution and scale down to the one we have. This is done by using <b>subsample grid</b> within each pixel. Instead of determining the color of a pixel from a single point, we divide it into subsamples. And the results from all subsamples in a pixel are averaged to determine the color. This approach is a useful tool to  remove the sawtooth feeling in the image and to eventually improve image's quality.</p>
		<p>To enable Antialiasing, I edited the size pf <b>sample_buffer</b> to adapt. And I modified <b>rasterize_triangle</b> looping method to cover the subsamples and apply the coverage test on them. Finally, I edited the <b>resolve_to_framebuffer</b> to average all subsamples for each pixel before getting the RGB value of the sample.</b></p>
		<div style="display: flex; justify-content: center; gap: 20px; align-items: center;">
			<div style="text-align: center;">
			<img src="super1.png" width="300px"/>
			<figcaption>Sample Rate 1</figcaption>
			</div>
		<div style="text-align: center;">
			<img src="super4.png" width="300px"/>
			<figcaption>Sample Rate 4</figcaption>
		</div>
		<div style="text-align: center;">
			<img src="super9.png" width="300px"/>
			<figcaption>Sample Rate 9</figcaption>
		</div>
		<div style="text-align: center;">
			<img src="super16.png" width="300px"/>
			<figcaption>Sample Rate 16</figcaption>
		</div>
		</div>
		<p> </p>
		
		
		<h2>Task 3: Transforms</h2>
		<p>I rotated cube man's arms and legs, and changed the color of its hair, forearm, leg, and clothes to match goku's clothes. The whole image is cube man using a spirit bomb.</p>
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="gokustick.png" width="400px"/>
				  <figcaption>Goku posture</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="goku.webp" width="400px"/>
				  <figcaption>Actual Goku</figcaption>
				</td>
			  </tr>
			  
			</table>
		</div>
		<h2>Task 4: Barycentric coordinates</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		<figure>
			<img src="color1.png" alt="Color" style="width:50%"/>
			<figcaption>Barcentric Result Screenshot</figcaption>
		</figure>
		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>